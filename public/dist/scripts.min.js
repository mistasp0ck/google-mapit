!function(a){"use strict"}(jQuery);var $=jQuery.noConflict();$(document).ready(function(){function a(a){if(console.log("formInteractions sidebar: "+o),o!==!0&&(""!==k.val()||"all"===a)){if(window.matchMedia("(max-width: 767px)").matches&&($("#bh-sl-map").css("display","none"),$(".bh-sl-loc-list").css("position","relative")),m.attr("data-expanded-height")&&""!==m.attr("data-expanded-height")){i=m.attr("data-expanded-height");var b=0,c=$("#bh-sl-map").offset().top+b;if(document.getElementById("wpadminbar"))var d=-32;else var d=0;$("html, body").animate({scrollTop:c+d},300,function(){$("#bh-sl-map").addClass("complete"),$(".map-overlay").css("display","none")})}h.css("opacity","1"),h.css("visibility","visible"),l.detach(),n.detach(),$(".bh-sl-loc-list").prepend(l),$(".search-title").css("display","block"),$(".bh-sl-container").addClass("sidebar"),!$("body").hasClass("single")&&window.matchMedia("(min-width: 768px)").matches&&$(".bh-sl-map-container").css("padding-left","376px"),h.css("height",i+"px"),$("#bh-sl-map").css("height",i+"px"),$(".bh-sl-loc-list ul").css("max-height",i-165);$(".bh-sl-loc-list ul").height();$(".form-input").prepend(n),$(".bh-sl-form-container").toggle(),$(".bh-sl-pagination-container").toggle(),e=$(".bh-sl-container .list").css("max-height"),o=!0,$(".toggle-sidebar i").addClass("fa-times")}o===!0&&"sidebar"===a?(h.addClass("closed"),$(".toggle-sidebar i").addClass("fa-times"),$(".toggle-sidebar i").removeClass("fa-map-marker-alt"),o=!1):o===!1&&"sidebar"===a&&(h.removeClass("closed"),o=!0,$(".toggle-sidebar i").removeClass("fa-times"),$(".toggle-sidebar i").addClass("fa-map-marker-alt"))}var b;!function(a){a.htmlentities={encode:function(a){for(var b=[],c=a.length-1;c>=0;c--)b.unshift(["&#",a[c].charCodeAt(),";"].join(""));return b.join("")},decode:function(a){return a.replace(/&#(\d+);/g,function(a,b){return String.fromCharCode(b)})}}}(window);var c,d,e,c,e,f,g,h=$(".bh-sl-loc-list"),i=$("#bh-sl-map").height(),j=$(".bh-sl-filters-container"),k=$("#bh-sl-address"),l=$("#bh-sl-user-location"),m=$(".map-top-container"),n=$("#use-location"),o=!1,p="",q="",r=!1,s=googleStorePluginUrl.url,t="";if(f=18,"undefined"!=typeof googleStorePluginUrl&&googleStorePluginUrl.hasOwnProperty("locations"))var u=JSON.parse(googleStorePluginUrl.locations);if(""!=u[0].map_image&&null!=u[0].map_image)t=u[0].map_image,g=!1,$("body").hasClass("single")?($("#bh-sl-static").addClass("static"),$("#bh-sl-static").css("background","url("+t+") center no-repeat"),$("#bh-sl-static").append('<a href="https://maps.google.com/maps?daddr='+u[0].address+" "+u[0].address2+" "+u[0].city+", "+u[0].state+" "+u[0].postal+'" target="_blank" class="link-overlay"></a>')):($("#bh-sl-static").addClass("static-feed"),$("#bh-sl-static").css("background","url("+t+") center no-repeat")),$(".link-overlay").click(function(){$(".link-overlay").css("display","none"),g===!1&&w()});else{if(console.log("no screenshot found!"),g=!0,""!=googleStorePluginUrl.settings&&null!=googleStorePluginUrl.settings)var v=JSON.parse(googleStorePluginUrl.settings);Boolean(v.sidebar)&&Boolean(v.search)||Boolean(v.search)||(Boolean(v.sidebar)?(console.log("sidebar active"),a("all")):$(".map-overlay").css("display","none"))}var w=function(){g=!0;var a;if(""!=googleStorePluginUrl.mapstyle)var e=JSON.parse(googleStorePluginUrl.mapstyle);else var e=[{featureType:"administrative.country",elementType:"geometry",stylers:[{visibility:"simplified"},{hue:"#ff0000"}]}];if(""!=googleStorePluginUrl.settings&&null!=googleStorePluginUrl.settings)var h=JSON.parse(googleStorePluginUrl.settings);if(window.matchMedia("(min-width: 1024px)").matches?(q=!1,p=20):window.matchMedia("(min-width: 768px)").matches?(q=!1,p=15):(p=8,q=!1,r=!0,$(".bh-sl-pagination-container").css("display","none")),""!=googleStorePluginUrl.iconsize&&null!=googleStorePluginUrl.iconsize&&(p=googleStorePluginUrl.iconsize),""!=googleStorePluginUrl.img&&null!=googleStorePluginUrl.img){var i=googleStorePluginUrl.img;i[0]&&(i=i[0])}if(a=""!=h.zoom&&null!=h.zoom?parseInt(h.zoom):12,f=""!=h.maxZoom&&null!=h.maxZoom?parseInt(h.maxZoom):18,d=""!=h.bounds_padding&&null!=h.bounds_padding?parseInt(h.bounds_padding):18,""!=googleStorePluginUrl.cat_icons&&null!=googleStorePluginUrl.cat_icons)var j=googleStorePluginUrl.cat_icons;if(""!=h.taxonomyFilters&&null!=h.taxonomyFilters?taxonomyFilters=parseInt(h.taxonomyFilters):taxonomyFilters="",""!=googleStorePluginUrl.imgCluster&&null!=googleStorePluginUrl.imgCluster){var k=googleStorePluginUrl.imgCluster;k[0]?(k=k[0],c={imagePath:k,imageExtension:"",maxZoom:11,gridSize:50,styles:[{textColor:"white",fontFamily:'"Roboto", sans-serif',url:k,height:49,width:50,textSize:17},{textColor:"white",fontFamily:'"Roboto", sans-serif',url:k,height:49,width:50,textSize:17},{textColor:"white",fontFamily:'"Roboto", sans-serif',url:k,height:49,width:50,textSize:17}]}):c=null}if(""!=googleStorePluginUrl.cat_icons&&null!=googleStorePluginUrl.cat_icons)var j=googleStorePluginUrl.cat_icons;taxonomyFilters={services:"category-filters-services","specialty-center":"category-filters-specialty-center","location-type":"category-filters-location-type"};$("#bh-sl-map").storeLocator({pagination:q,locationsPerPage:5,storeLimit:-1,sortBy:"name",fullMapStart:!0,listColor2:"#FBFBFB",catMarkers:j,markerCluster:c,sessionStorage:!0,geocodeID:"use-location",locationList:"results-wrapper",taxonomyFilters:taxonomyFilters,mapSettings:{zoom:a,maxZoom:f,disableDoubleClickZoom:!0,scrollwheel:!1,navigationControl:!1,draggable:!0,mapTypeId:google.maps.MapTypeId.ROADMAP,styles:e},markerImg:i,markerDim:{height:p,width:p},slideMap:!1,openNearest:!1,fitBoundsPadding:d,dataType:"json",dataRaw:b,infowindowTemplatePath:s+"/js/plugins/storeLocator/templates/infowindow-description.html",listTemplatePath:s+"/js/plugins/storeLocator/templates/location-list-description.html",callbackSuccess:function(a,b,c,d){},callbackListClick:function(a,b,c,d){d.setZoom(15)},callbackMapSet:function(a,b,c,d){a.setZoom(15)}})};$('[data-toggle="tooltip"]').tooltip(),$(".toggle-sidebar").click(function(){h.hasClass("closed")?(h.removeClass("closed"),$(".toggle-sidebar i").addClass("fa-times"),$(".toggle-sidebar i").removeClass("fa-map-marker"),o=!0,$("body").hasClass("single")||$(".bh-sl-map-container").css("padding-left","376px")):(h.addClass("closed"),$(".toggle-sidebar i").removeClass("fa-times"),$(".toggle-sidebar i").addClass("fa-map-marker"),o=!1,$("body").hasClass("single")||$(".bh-sl-map-container").css("padding-left","0"))}),$("#use-location").click(function(){a("all")}),$(".toggle-filters").toggle(function(){$(this).parent().removeClass("closed"),$(".toggle-filters i").removeClass("fa-chevron-down"),$(".toggle-filters i").addClass("fa-chevron-up");var a=$(".bh-sl-filters-container").innerHeight(),b=parseInt(e,10);newHeight=b-a+55,$(".bh-sl-container .list").css("max-height",newHeight+"px")},function(){$(this).parent().addClass("closed"),$(".toggle-filters i").addClass("fa-chevron-down"),$(".toggle-filters i").removeClass("fa-chevron-up"),$(".bh-sl-container .results-wrapper,.bh-sl-container .list").css("max-height",e)}),$(".search-link").click(function(b){b.preventDefault(),console.log("initialMapLoad: "+g),console.log("search-link click1"+o),g===!1?(o=!1,w()):(console.log("search-link click"),console.log("search-link click2"+o),a("all"))}),$(".map-overlay").on("mousedown",function(a){a.preventDefault(),g===!1&&w()}),$("#bh-sl-user-location").submit(function(b){b.preventDefault(),g===!1?w():a("all")}),$(".search-link-sidebar").click(function(a){a.preventDefault(),j.find('input[type="checkbox"]').each(function(){$(this).attr("checked",!1)}).change()});var x=$(".js-force-full-width").parent().width(),y=$(window).width();if($(".js-force-full-width").css({width:$("body").width()+"px"}),$(".js-force-full-width").children().css({width:"100%"}),y>x){var z=-(y-x)/2;$(".js-force-full-width").css({"margin-left":z+"px"})}$(window).resize(function(){$(".js-force-full-width").css({width:$("body").width()+"px"}),y>x?$(".js-force-full-width").css({"margin-left":-($(window).width()-$(".js-force-full-width").parent().width())/2+"px"}):$(".js-force-full-width").css({"margin-left":"0px"})});var u;if("undefined"!=typeof googleStorePluginUrl&&googleStorePluginUrl.hasOwnProperty("locations")&&(u=JSON.parse(googleStorePluginUrl.locations)),u&&!u.hasOwnProperty("settings"))b=googleStorePluginUrl.locations,console.log("locations: "+b),g===!0&&w();else if("undefined"!=typeof googleStorePluginUrl){var A="location-category",B=[],C=$.ajax({url:googleStorePluginUrl.api_url+"wp-json/wp/v2/"+A,method:"GET"}),D=C.then(function(a){var b=E(a);return console.log("return in ajax: "+b),$.ajax({url:b,method:"GET"})});D.done(function(a){console.log(a),F(a)});var E=function(a){var b,c=googleStorePluginUrl.api_url+"wp-json/wp/v2/location";if(u.settings.hasOwnProperty("categories")){var d=u.settings.categories;d=d.split(",");var e=[]}else var d="";if(console.log(a),a){for(var f="",b=[],g=0;g<a.length;g++)B[a[g].id]=a[g].name,""!==d?d.includes(a[g].name)&&(console.log("category found: "+a[g].id),b.push(a[g].id),f+='<li><input type="checkbox" name="category" value='+a[g].name+"/><label>"+a[g].name+"</label></li>"):f+='<li><input type="checkbox" name="category" value='+a[g].name+"/><label>"+a[g].name+"</label></li>";if($("#category-filters-container1").html(f),null!=b[0]){console.log("meows found: "+b),b.join(",");var e="?"+A+"="+b;c+=e}console.log("return query: "+c)}return c},F=function(a){for(var c=0;c<a.length;c++){if(a[c].location_meta_fields.hasOwnProperty("address"))var d=a[c].location_meta_fields.address[0];else var d="";if(a[c].location_meta_fields.hasOwnProperty("address2"))var e=a[c].location_meta_fields.address2[0];else var e="";if(a[c].location_meta_fields.hasOwnProperty("city"))var f=a[c].location_meta_fields.city[0];else var f="";if(a[c].location_meta_fields.hasOwnProperty("state"))var h=a[c].location_meta_fields.state[0];else var h="";if(a[c].location_meta_fields.hasOwnProperty("postal"))var i=a[c].location_meta_fields.postal[0];else var i="";if(a[c].location_meta_fields.hasOwnProperty("latitude"))var j=a[c].location_meta_fields.latitude[0];else var j="";if(a[c].location_meta_fields.hasOwnProperty("longitude"))var k=a[c].location_meta_fields.longitude[0];else var k="";if(a[c].location_meta_fields.hasOwnProperty("link"))var l=a[c].location_meta_fields.link[0];else var l="";if(a[c].location_meta_fields.hasOwnProperty("custom_icon"))var m=a[c].location_meta_fields.custom_icon;else var m="";if(a[c].location_meta_fields.hasOwnProperty("phone"))var n=a[c].location_meta_fields.phone;else var n="";if(a[c].hasOwnProperty("location-category")){var o=a[c]["location-category"];if(1===o.length){console.log();var p=B[a[c]["location-category"][0]]}else if(o.length>1){for(var p=[],c=0;c<o.length;c++)p.push(B[o[c]]);p.join(",")}else var p="";console.log(p)}else var p="";if(u.settings.hasOwnProperty("info_link"))var q=u.settings.info_link;else var q="";if(u.settings.hasOwnProperty("info_link_text"))var r=u.settings.info_link_text;else var r="";if(u.settings.hasOwnProperty("info_directions"))var s=u.settings.info_directions;else var s="";if(u.settings.hasOwnProperty("list_directions"))var t=u.settings.list_directions;else var t="";if(u.settings.hasOwnProperty("list_link"))var v=u.settings.list_link;else var v="";if(u.settings.hasOwnProperty("list_link_text"))var x=u.settings.list_link_text;else var x="";b.push({id:c,name:htmlentities.decode(a[c].title.rendered),address:d,address2:e,city:f,state:h,postal:i,lat:j,lng:k,web:l,info_link:q,info_link_text:r,info_directions:s,list_directions:t,list_link:v,list_link_text:x,custom_icon:m,category:p,phone:n,hours1:"",hours2:""})}b=JSON.stringify(b,null),g===!0&&w()}}});
//# sourceMappingURL=../../scripts.min.map